<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GtkSourceIconv: libgedit-gtksourceview 300 Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="libgedit-gtksourceview 300 Reference Manual">
<link rel="up" href="low-level-file-loading-and-saving.html" title="Low-Level File Loading and Saving">
<link rel="prev" href="low-level-file-loading-and-saving.html" title="Low-Level File Loading and Saving">
<link rel="next" href="libgedit-gtksourceview-300-GtkSourceInputStream.html" title="GtkSourceInputStream">
<meta name="generator" content="GTK-Doc V1.35.1 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#libgedit-gtksourceview-300-GtkSourceIconv.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="low-level-file-loading-and-saving.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="low-level-file-loading-and-saving.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="libgedit-gtksourceview-300-GtkSourceInputStream.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="libgedit-gtksourceview-300-GtkSourceIconv"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libgedit-gtksourceview-300-GtkSourceIconv.top_of_page"></a>GtkSourceIconv</span></h2>
<p>GtkSourceIconv — To use iconv more comfortably</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="libgedit-gtksourceview-300-GtkSourceIconv.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_proto_type">
<col class="functions_proto_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="returnvalue">GtkSourceIconv</span></a> *
</td>
<td class="function_name">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-new" title="gtk_source_iconv_new ()">gtk_source_iconv_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-open" title="gtk_source_iconv_open ()">gtk_source_iconv_open</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="returnvalue">GtkSourceIconvResult</span></a>
</td>
<td class="function_name">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-feed" title="gtk_source_iconv_feed ()">gtk_source_iconv_feed</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="returnvalue">GtkSourceIconvResult</span></a>
</td>
<td class="function_name">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-feed-discard-output" title="gtk_source_iconv_feed_discard_output ()">gtk_source_iconv_feed_discard_output</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-close" title="gtk_source_iconv_close ()">gtk_source_iconv_close</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-free" title="gtk_source_iconv_free ()">gtk_source_iconv_free</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="libgedit-gtksourceview-300-GtkSourceIconv.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="other_proto_type">
<col class="other_proto_name">
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv">GtkSourceIconv</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult">GtkSourceIconvResult</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="libgedit-gtksourceview-300-GtkSourceIconv.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;gtksourceview/gtksource.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="libgedit-gtksourceview-300-GtkSourceIconv.description"></a><h2>Description</h2>
<p><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> is a small wrapper for the <a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-iconv"><code class="function">g_iconv()</code></a> family of functions, to
use iconv more comfortably. <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> returns <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>'s and enum values
for the different situations.</p>
<p>Call the functions in this order:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>gtk_source_iconv_new()</p></li>
<li class="listitem"><p>gtk_source_iconv_open()</p></li>
<li class="listitem"><p>gtk_source_iconv_feed() in a loop.</p></li>
<li class="listitem"><p>gtk_source_iconv_feed() with <em class="parameter"><code>inbuf</code></em>
 and <em class="parameter"><code>inbytes_left</code></em>
 set to <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> (in a
loop too if the output buffer is full).</p></li>
<li class="listitem"><p>gtk_source_iconv_close()</p></li>
<li class="listitem"><p>gtk_source_iconv_free()</p></li>
</ul></div>
<p>Note that GLib provides the <a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-convert"><code class="function">g_convert()</code></a> family of functions. As the
<a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-convert"><code class="function">g_convert()</code></a> documentation explains, it is necessary to use <a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-iconv"><code class="function">g_iconv()</code></a> (or
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>) for streaming conversions. One other use-case is to have
more control over invalid characters: in the case of the GtkSourceView
library, it is desirable to apply a <a href="/usr/share/gtk-doc/html/gtk3/GtkTextTag.html#GtkTextTag-struct"><span class="type">GtkTextTag</span></a> to them.</p>
<div class="refsect2">
<a name="id-1.3.8.2.6.6"></a><h3>Avoid iconv if possible</h3>
<p>However, if you have the choice, don't use iconv! It's a crappy API and has
several design flaws:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
<p>When <code class="literal"><code class="function">iconv()</code></code> returns <code class="literal">(size_t)-1</code> (e.g., when the output buffer is full),
we don't know if it has performed lossy conversions. In a normal situation,
the number of lossy conversions performed is returned by <code class="literal"><code class="function">iconv()</code></code> as its
return value.</p>
<p>To fix this flaw, an <code class="literal"><code class="function">iconv2()</code></code> function could return the number of lossy
conversions performed as an output parameter. And also an
<code class="literal">iconv_open2</code> <code class="literal">()</code> function could take a flags parameter to configure
whether lossy conversions are allowed.</p>
</li>
<li class="listitem">
<p>The <code class="literal">EILSEQ</code> error returned by <code class="literal"><code class="function">iconv()</code></code> can mean two different things:
there is either an invalid character in the input buffer (so invalid wrt.
the *origin* codeset), or there is a valid character in the input buffer
that cannot be represented in the *target* codeset.</p>
<p>To fix this flaw, an <code class="literal"><code class="function">iconv2()</code></code> function could simply return two different
error codes.</p>
</li>
<li class="listitem">
<p>When the <code class="literal">EILSEQ</code> error is returned by <code class="literal"><code class="function">iconv()</code></code>, “<code class="literal">*inbuf</code> is left
pointing to the beginning of the invalid multibyte sequence”, however we
don't know the length of the multibyte sequence! So in practice we assume
only one invalid byte, and call <code class="literal"><code class="function">iconv()</code></code> again with <code class="literal">inbuf</code> pointing to
the next byte, which may fail again, and so on.</p>
<p>An <code class="literal"><code class="function">iconv2()</code></code> function would need a more elaborate API to return this kind
of information. For example by returning/filling a struct as an optional
output parameter.</p>
</li>
</ul></div>
<p>Additionally, <code class="literal"><code class="function">iconv()</code></code> has different implementations (so working code on
Linux can behave differently on a BSD or Solaris).</p>
</div>
</div>
<div class="refsect1">
<a name="libgedit-gtksourceview-300-GtkSourceIconv.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gtk-source-iconv-new"></a><h3>gtk_source_iconv_new ()</h3>
<pre class="programlisting"><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="returnvalue">GtkSourceIconv</span></a> *
gtk_source_iconv_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-source-iconv-new.returns"></a><h4>Returns</h4>
<p>a new <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>. </p>
<p><span class="annotation">[<acronym title="The caller owns the data, and is responsible for free it."><span class="acronym">transfer full</span></acronym>]</span></p>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
<hr>
<div class="refsect2">
<a name="gtk-source-iconv-open"></a><h3>gtk_source_iconv_open ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gtk_source_iconv_open (<em class="parameter"><code><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> *conv</code></em>,
                       <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *to_codeset</code></em>,
                       <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *from_codeset</code></em>,
                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Similar to <a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-iconv-open"><code class="function">g_iconv_open()</code></a>. The difference is that it returns a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>
instead of <code class="literal">errno</code>.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-source-iconv-open.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>conv</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>to_codeset</p></td>
<td class="parameter_description"><p>destination codeset.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>from_codeset</p></td>
<td class="parameter_description"><p>source codeset.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore errors.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-source-iconv-open.returns"></a><h4>Returns</h4>
<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> on success, <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> on error.</p>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
<hr>
<div class="refsect2">
<a name="gtk-source-iconv-feed"></a><h3>gtk_source_iconv_feed ()</h3>
<pre class="programlisting"><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="returnvalue">GtkSourceIconvResult</span></a>
gtk_source_iconv_feed (<em class="parameter"><code><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> *conv</code></em>,
                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> **inbuf</code></em>,
                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gsize"><span class="type">gsize</span></a> *inbytes_left</code></em>,
                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> **outbuf</code></em>,
                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gsize"><span class="type">gsize</span></a> *outbytes_left</code></em>,
                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Similar to <a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-iconv"><code class="function">g_iconv()</code></a>. This function reads the <code class="literal">errno</code> value and converts it
either to a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or to a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="type">GtkSourceIconvResult</span></a> enumeration value.</p>
<p><em class="parameter"><code>error</code></em>
 is set only when <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GTK-SOURCE-ICONV-RESULT-ERROR:CAPS"><code class="literal">GTK_SOURCE_ICONV_RESULT_ERROR</code></a> is returned.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-source-iconv-feed.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>conv</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>inbuf</p></td>
<td class="parameter_description"><p>bytes to convert. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>inbytes_left</p></td>
<td class="parameter_description"><p>bytes remaining to convert in <em class="parameter"><code>inbuf</code></em>
. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Parameter for input and for returning results. Default is transfer full."><span class="acronym">inout</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>outbuf</p></td>
<td class="parameter_description"><p>converted output bytes. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL must not be passed as the value in, out, in-out; or as a return value."><span class="acronym">not nullable</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>outbytes_left</p></td>
<td class="parameter_description"><p>bytes available to fill in <em class="parameter"><code>outbuf</code></em>
. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL must not be passed as the value in, out, in-out; or as a return value."><span class="acronym">not nullable</span></acronym>][<acronym title="Parameter for input and for returning results. Default is transfer full."><span class="acronym">inout</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore errors.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-source-iconv-feed.returns"></a><h4>Returns</h4>
<p> a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="type">GtkSourceIconvResult</span></a> enumeration value.</p>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
<hr>
<div class="refsect2">
<a name="gtk-source-iconv-feed-discard-output"></a><h3>gtk_source_iconv_feed_discard_output ()</h3>
<pre class="programlisting"><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="returnvalue">GtkSourceIconvResult</span></a>
gtk_source_iconv_feed_discard_output (<em class="parameter"><code><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> *conv</code></em>,
                                      <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> **inbuf</code></em>,
                                      <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gsize"><span class="type">gsize</span></a> *inbytes_left</code></em>,
                                      <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Similar to <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-feed" title="gtk_source_iconv_feed ()"><code class="function">gtk_source_iconv_feed()</code></a> but without the output buffer parameters.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-source-iconv-feed-discard-output.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>conv</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>inbuf</p></td>
<td class="parameter_description"><p>bytes to convert. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>inbytes_left</p></td>
<td class="parameter_description"><p>bytes remaining to convert in <em class="parameter"><code>inbuf</code></em>
. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Parameter for input and for returning results. Default is transfer full."><span class="acronym">inout</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore errors.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-source-iconv-feed-discard-output.returns"></a><h4>Returns</h4>
<p> a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconvResult" title="enum GtkSourceIconvResult"><span class="type">GtkSourceIconvResult</span></a> enumeration value.
<a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GTK-SOURCE-ICONV-RESULT-OUTPUT-BUFFER-FULL:CAPS"><code class="literal">GTK_SOURCE_ICONV_RESULT_OUTPUT_BUFFER_FULL</code></a> is never returned by this
function.</p>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
<hr>
<div class="refsect2">
<a name="gtk-source-iconv-close"></a><h3>gtk_source_iconv_close ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gtk_source_iconv_close (<em class="parameter"><code><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> *conv</code></em>,
                        <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Similar to <a href="/usr/share/gtk-doc/html/glib/glib-Character-Set-Conversion.html#g-iconv-close"><code class="function">g_iconv_close()</code></a>. The difference is that it returns a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>
instead of <code class="literal">errno</code>.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-source-iconv-close.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>conv</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore errors.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-source-iconv-close.returns"></a><h4>Returns</h4>
<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> on success, <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> on error.</p>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
<hr>
<div class="refsect2">
<a name="gtk-source-iconv-free"></a><h3>gtk_source_iconv_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gtk_source_iconv_free (<em class="parameter"><code><a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a> *conv</code></em>);</pre>
<p>Frees <em class="parameter"><code>conv</code></em>
.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-source-iconv-free.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>conv</p></td>
<td class="parameter_description"><p>a <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#GtkSourceIconv" title="GtkSourceIconv"><span class="type">GtkSourceIconv</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
</div>
<div class="refsect1">
<a name="libgedit-gtksourceview-300-GtkSourceIconv.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="GtkSourceIconv"></a><h3>GtkSourceIconv</h3>
<pre class="programlisting">typedef struct _GtkSourceIconv GtkSourceIconv;</pre>
</div>
<hr>
<div class="refsect2">
<a name="GtkSourceIconvResult"></a><h3>enum GtkSourceIconvResult</h3>
<p>Used as the result value of <a class="link" href="libgedit-gtksourceview-300-GtkSourceIconv.html#gtk-source-iconv-feed" title="gtk_source_iconv_feed ()"><code class="function">gtk_source_iconv_feed()</code></a>.</p>
<div class="refsect3">
<a name="GtkSourceIconvResult.members"></a><h4>Members</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="300px" class="enum_members_name">
<col class="enum_members_description">
<col width="200px" class="enum_members_annotations">
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="GTK-SOURCE-ICONV-RESULT-OK:CAPS"></a>GTK_SOURCE_ICONV_RESULT_OK</p></td>
<td class="enum_member_description">
<p>Everything OK.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="GTK-SOURCE-ICONV-RESULT-ERROR:CAPS"></a>GTK_SOURCE_ICONV_RESULT_ERROR</p></td>
<td class="enum_member_description">
<p>An error occurred.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="GTK-SOURCE-ICONV-RESULT-ILLEGAL-SEQUENCE:CAPS"></a>GTK_SOURCE_ICONV_RESULT_ILLEGAL_SEQUENCE</p></td>
<td class="enum_member_description">
<p>Stopped at an invalid character in
the <em class="parameter"><code>inbuf</code></em>
; or the character could not be represented in the target
character set. <code class="literal">*inbuf</code> is left pointing to the beginning of the invalid or
unconvertible sequence.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="GTK-SOURCE-ICONV-RESULT-INCOMPLETE-INPUT:CAPS"></a>GTK_SOURCE_ICONV_RESULT_INCOMPLETE_INPUT</p></td>
<td class="enum_member_description">
<p>The input byte sequence ends with
an incomplete multi-byte character. <code class="literal">*inbuf</code> is left pointing to the
beginning of the incomplete multi-byte character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="GTK-SOURCE-ICONV-RESULT-OUTPUT-BUFFER-FULL:CAPS"></a>GTK_SOURCE_ICONV_RESULT_OUTPUT_BUFFER_FULL</p></td>
<td class="enum_member_description">
<p>The output buffer has no more
room for the next converted character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="GTK-SOURCE-ICONV-RESULT-LOSSY-CONVERSION:CAPS"></a>GTK_SOURCE_ICONV_RESULT_LOSSY_CONVERSION</p></td>
<td class="enum_member_description">
<p>A number of nonreversible
conversions have been performed.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: <a class="link" href="api-index-299-6.html#api-index-299.6">299.6</a></p>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.35.1</div>
</body>
</html>